### 配置介绍

- 日志目录
- [etcd]mdc机房维度
- [etcd]workerPath应用维度

worker拉配置上报
客户端拉配置，传给对应worker



### 安装概要



### 运行脚本示例



### 记录数据说明

一条日志的数据可分为两种：出入参、链路日志。其中出入参的基本信息较为固定，而链路日志为请求中日志，用户可自行添加。(注：链路不是指真实请求链路，只是指请求中自定义日志)

出入参日志有且不仅有：

- 链路id

- 应用名称

- 创建时间

- 请求耗时

- 请求接口

- 请求返回值

- 日志创建时间

- 请求入参相关自定义信息

  - 客户端种类

  - 客户端版本

  - 用户ip

  - 服务器ip

    ......



`JLog`总结了常用的日志参数，在Client端用**规范**的格式记录参数  (具体记录逻辑可见UserFIlter类) 。在Worker端，针对定义的日志格式又有一些特殊处理（具体见TracerConsumer类）再入库。**那如何自定义日志记录格式和处理入库格式呢？**

- 仿照`UserFIlter`自定义日志**记录格式**
- 仿照`TracerConsumer`自定义日志**入库格式**
- 可能涉及更改`DashBoard`项目的**展示逻辑**

**待之后**优化支持**拓展点**修改日志格式和展示逻辑。



### Client Demo

- 配置ETCD
- 配置日志框架 (log4j / log4j2 / logback)
- 测试记录出入参
- 测试记录链路日志

- 测试模拟数据发送至worker